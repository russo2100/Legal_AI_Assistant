# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: RAG –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
python scripts/setup_rag.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç Docker
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL —Å pgvector
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ç–µ–∫—Å—Ç—ã –∫–æ–¥–µ–∫—Å–æ–≤
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º—É

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ Docker

```powershell
# –ó–∞–ø—É—Å–∫ PostgreSQL
docker compose -f docker/docker-compose.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker compose ps
```

### –®–∞–≥ 2: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∫–æ–¥–µ–∫—Å–æ–≤

```powershell
# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–¥–µ–∫—Å–æ–≤ –∏–∑ data/codes/
python src/rag/indexer.py --codes data/codes
```

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```powershell
# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
python -m src.main "–°—Ç–∞—Ç—å—è 330 –ì–ö –†–§ –Ω–µ—É—Å—Ç–æ–π–∫–∞"

# E2E —Ç–µ—Å—Ç—ã
pytest src/tests/test_e2e.py -v
```

---

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

| –ó–∞–¥–∞—á–∞ | –ö–æ–º–∞–Ω–¥–∞ |
|--------|---------|
| –ó–∞–ø—É—Å—Ç–∏—Ç—å –ë–î | `docker compose up -d` |
| –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î | `docker compose down` |
| –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥–µ–∫—Å—ã | `python src/rag/indexer.py --codes data/codes` |
| –ó–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ CLI | `python -m src.main "–≤–∞—à –∑–∞–ø—Ä–æ—Å"` |
| –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã | `pytest src/tests/test_e2e.py -v` |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ | `Get-Content logs\app.log -Wait` |

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

```bash
# –ü–æ–∏—Å–∫ –Ω–æ—Ä–º—ã –ø–æ —Å—Ç–∞—Ç—å–µ
python -m src.main "–°—Ç–∞—Ç—å—è 330 –ì–ö –†–§"

# –í–æ–ø—Ä–æ—Å –æ –Ω–µ—É—Å—Ç–æ–π–∫–µ
python -m src.main "–ö–∞–∫ –≤–∑—ã—Å–∫–∞—Ç—å –Ω–µ—É—Å—Ç–æ–π–∫—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –ø–æ—Å—Ç–∞–≤–∫–∏?"

# –ü–æ–∏—Å–∫ –¥–µ–ª–∞ –ø–æ –Ω–æ–º–µ—Ä—É
python -m src.main "–î–µ–ª–æ –ê40-123456/2024"

# –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É
python -m src.main "–†–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –∞—Ä–µ–Ω–¥—ã –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ"
```

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Docker –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```
–†–µ—à–µ–Ω–∏–µ: –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç—É—Å–∞ "running"
```

### –ë–î –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose restart postgres

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker compose logs postgres
```

### –û—à–∏–±–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
docker exec yurik-postgres pg_isready -U postgres

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
docker exec -it yurik-postgres psql -U postgres -d yurik_db -c "DROP TABLE IF EXISTS chunks CASCADE; DROP TABLE IF EXISTS codes CASCADE;"
python src/rag/indexer.py --codes data/codes
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: [`docs/SETUP_GUIDE.md`](docs/SETUP_GUIDE.md)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: [`docs/architecture.md`](docs/architecture.md)
- LLM fallback: [`docs/llm-fallback-system.md`](docs/llm-fallback-system.md)
